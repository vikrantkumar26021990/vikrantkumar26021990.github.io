ul { margin: 0; padding: 0; list-style: none; }

*, *:before, *:after { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }

body, input[type="text"] {
	font-family: 'Roboto', arial, sans-serif; font-size: 14px; color: #727271;
}

button:focus { outline: 0; } /* avoid default blue outline on chrome */

.explorer-bg {

	background-color: black; opacity: .5;
	position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;
}

.explorer {

	position: relative; top: 50%; margin: auto; margin-top: -330px;
	height: 660px; width: 80%; min-width: 640px;
	background-color: white; opacity: 1; border-radius: 5px;
	overflow: hidden;

	.loader, .alertPopup {

		position: absolute; top: 0; left: 0; z-index: 99;
		width: 100%; height: 100%;  vertical-align: middle;
		
		div.bg {
			position: absolute; top: 0; left: 0; z-index: -1;
			width: 100%; height: 100%;
			background-color: black; opacity: .5;
		}
		div.txt {
			position: absolute;
			top: 50%;
			left: 50%; width: 450px; margin-left: -225px;
			padding: 20px;
			background-color: white;
			opacity: 1; border-radius: 10px;
			text-align: center;
			font: {
				size: 20px;
			}
		}
	}
	.loader {
		div.txt {
			height: 80px; margin-top: -40px;
		}
	}
	.alertPopup {

		div.txt {

			height: 160px; margin-top: -80px;

			.choice {
			 	padding: 6px; margin: 2px;
				cursor: pointer;
				user-select: none;
				border-radius: 5px;
			}
			.choice:nth-of-type(1) {
				border: 2px solid red;
			}
			.choice:nth-of-type(2) {
				border: 2px solid green;
			}
			.choice:nth-of-type(1):hover {
				background: red; color: #FFF;
			}
			.choice:nth-of-type(2):hover {
				background: green; color: #FFF;
			}
		}
	}
	.alertPopup.warning {

		div.txt {

			background-color: orange;
		}
	}
	.alertPopup.error {

		div.txt {

			background-color: red;
		}
	}

	.home {

		text-align: center;

		span {
			display: inline-block;
			font-size: 20px; margin-top: 180px;
		}
		ul {
			display: block; width: 400px;
			margin: auto; margin-top: 15px;
			li {
				display: inline-block;
				width: 110px; height: 110px;
				vertical-align: top;
				margin: 10px;
				cursor: pointer;
				user-select: none;
				padding-top: 90px;
				background: {
					repeat: no-repeat;
					size: auto 110px;
					position: 0px -8px;
				}
				border: 1px solid 34b7ea;
				font: {
					size: 16;
				}
			}
			li:hover {
				background-position: -110px -8px;
				border: 1px solid 288cb3;
			}
			li:active {
				background-position: -220px -8px;
				border: 1px solid 195a73;
			}
			li.dropbox {
				background-image: url('../images/default/home-dropbox.png');
			}
			li.www {
				background-image: url('../images/default/home-www.png');
			}
			li.ftp {
				background-image: url('../images/default/home-ftp.png');
			}
			li.github {
				background-image: url('../images/default/home-github.png');
			}
			li.open-pages{
				background-image: url('../images/default/home-open-pages.png');
			}
		}
	}

	.header {

		position: relative; z-index: 2;
		height: 104px;
		background: {
			color: #282828;
			image: url('../images/default/ce-header.png');
			repeat: no-repeat;
			size: auto 70%;
			position: 20px 50%;
		}
		.controls {

			position: absolute; top: 26px; right: 10px;
			width: 310px; height: 52px;

			button {

				float:left;
				width: 52px; height: 52px;
				padding: 0; border: 0; margin: 0;
				background-repeat: no-repeat;
				background-position: 0px 0px;
				background-color: transparent;
				cursor: pointer;
			}
			button:hover {

				background-position: -52px 0px;
			}
			button:active {

				background-position: -104px 0px;
			}
			button:disabled {

				background-position: -208px 0px;
				cursor: not-allowed;
			}
			button.parentFolderBtn {

				background-image: url('../images/default/btn-parent-folder.png');
				margin-right: 10px;
			}
			button.newFolderBtn {

				background-image: url('../images/default/btn-new-folder.png');
				margin-right: 20px;
			}
			button.listItemsBtn {

				background-image: url('../images/default/btn-list-items.png');
				margin-right: 10px;
			}
			button.iconItemsBtn {

				background-image: url('../images/default/btn-icon-items.png');
				margin-right: 10px;
			}
			button.closeBtn {

				background-image: url('../images/default/btn-close.png');
			}
		}
	}
	
	.authPopup {
	
		position: absolute; z-index: 110;
		top: 0; left: 0;
		width: 100%; height: 100%;
		background-color: rgba(0,0,0,.4);

		div {
			position: absolute;
			top: 50%; height: 80px; margin-top: -40px;
			left: 50%; width: 450px; margin-left: -225px;
			padding: 20px;
			background-color: #FFFFFF;
			border-radius: 10px;
			color: #727271;
			text-align: center;
			font: {
				weight: bold;
				size: 20px;
			}
		}
	}

	.breadcrumb {

		padding: 6px; padding-left: 50px;
		font-size: 14px;
		background: url("../images/default/breadcrumb.png") no-repeat 10px 50% / auto 65%;

		.pathIt {
			font-style: italic;
			cursor: pointer;
			color: #727271;
		}
		.pathIt:hover {
			text-decoration: underline;
		}
	}

	.fileBrowser {

		position: relative; width: 100%; height: 100%;
		margin-top: -104px;
		padding-top: 104px; padding-bottom: 0px;

		.services, .files {

			float: left;
			height: 100%;
			/* overflow: hidden; */
		}
		.services {

			position: relative; width: 53px; z-index: 10;
			border-right: 1px solid #282828;

			.logoutBtn {
				height: 52px; margin: 0px; padding: 0px;
				cursor: pointer;
			}

			> ul {
				height: 100%; width: 100%; padding-bottom: 52px;

				> li {
					display: block; float: left;
					height: 52px; width: 52px;
					border-bottom: 1px solid #666666;
					cursor: pointer;
					background-repeat: no-repeat, no-repeat;
					background-position: 32px 9px, 0px 0px;
					background-size: 11px 11px, auto 52px;
				}
				> li:hover {
					background-position: 32px 9px, -52px 0px;

					ul.contextMenu {
						/* display: block; WIP */
					}
				}
				> li:active {
					background-position: 32px 9px, -104px 0px;
				}
				> li.dropbox {
					background-image: url("../images/default/srv-state-disconnected.png"), url("../images/default/srv-dropbox.png");
				}
				> li.dropbox.connected {
					background-image: url("../images/default/srv-state-connected.png"), url("../images/default/srv-dropbox.png");
				}
				> li.www {
					background-image: url("../images/default/srv-state-disconnected.png"), url('../images/default/srv-www.png');
				}
				> li.www.connected {
					background-image: url("../images/default/srv-state-connected.png"), url('../images/default/srv-www.png');
				}
				> li.ftp {
					background-image: url("../images/default/srv-state-disconnected.png"), url('../images/default/srv-ftp.png');
				}
				> li.ftp.connected {
					background-image: url("../images/default/srv-state-connected.png"), url('../images/default/srv-ftp.png');
				}
				> li.github {
					background-image: url("../images/default/srv-state-disconnected.png"), url('../images/default/srv-github.png');
				}
				> li.github.connected {
					background-image: url("../images/default/srv-state-connected.png"), url('../images/default/srv-github.png');
				}
				> li.open-pages {
					background-image: url("../images/default/srv-state-disconnected.png"), url('../images/default/srv-open-pages.png');
				}
				> li.open-pages.connected {
					background-image: url("../images/default/srv-state-connected.png"), url('../images/default/srv-open-pages.png');
				}

				ul.contextMenu {

					position: absolute; z-index: 20;
					width: 170px; left: 50px; margin-top: 4px;
					display: none;
					padding: 0px;
					background: {
						color: #fcf6d6;
					}
					border: {
						left: 1px solid black;
						top: 1px solid black;
						right: 1px solid black;
					}

					li {
						height: 27px; line-height: 26px;
						margin: 0px; padding: 0px; padding-left: 6px;
						border-bottom: 1px solid black;
					}
					li:hover {
						text-decoration: underline;
					}
					li.logout {
						display: none;
					}
				}
				ul.contextMenu::before {

					content: "";
					position: absolute;
					width: 0; height: 0;
					margin-left: -12px; margin-top: 8px;
					border: {
						width: 6px;
						style: solid;
						color: transparent black transparent transparent;
					}
				}
				li.connected {
					li.login {
						display: none;
					}
					li.logout {
						display: block;
					}
				}
			}
		}
		.files {

			position: absolute; width: 100%; top: 104px; left: 0;
			padding-left: 52px;

			.list {

				padding-left: 10px; padding-right: 10px;
				display: block; height: 100%; padding-bottom: 224px;

				.titles {

					color: #34B8EB; font-size: 14px; padding-top: 6px; padding-bottom: 6px;
					border-top: 1px solid #34B8EB; border-bottom: 1px solid #34B8EB;

					span {
						display: inline-block;
						cursor: pointer; user-select: none;
					}
					span.sortArrow {
						width: 6px; height: 6px; margin-right: 6px;
						background: {
							image: url("../images/default/btn-sort.png");
							size: auto 6px;
							position: 0px 0px;
							repeat: no-repeat;
						}
					}
					span:hover {
						text-decoration: underline;
						.sortArrow {
							background-position: -6px 0px;
						}
					}
					span:active {
						.sortArrow {
							background-position: -12px 0px;
						}
					}
					.lastUpdate {
						width: 150px;
					}
					.fileName {
						margin-left: 20px; padding-left: 35px;
						width: 210px;
					}
					.fileType{
						width: 60px;
					}
					.lastUpdate, .fileType {
						float: right; text-align: center;
					}
				}
				div.items {
					height: 100%; padding-bottom: 30px;
					ul {
						height: 100%; overflow-y: auto;
						user-select: none;

						li .fileName {
							cursor: pointer;
						}
						li .fileType {
							width: 60px;
						}
						li .lastUpdate {
							width: 150px;
						}
						li .fileType, li .lastUpdate {
							float: right; text-align: center;
						}
						li span {
							display: inline-block; overflow: hidden;
							white-space: nowrap;
						}
						li {
							clear: both; height: 35px; line-height: 35px;
							border-bottom: 1px solid rgb(229, 229, 229);
							-ms-text-overflow: ellipsis; -o-text-overflow: ellipsis; text-overflow: ellipsis;

							span.icon {
								width: 34px; height: 34px;
								background: {
									repeat: no-repeat;
									size: auto 34px;
									position: 0px 0px;
								}
							}
							input, button, span {
								vertical-align: middle;
							}
							span.fileName, input[type="text"] {
								cursor: pointer;
							}
							input[type="text"] {
								border: 0; margin: 0;
							}
							button {
								display: none;
								width: 34px; height: 34px;
								border: 0; padding: 0; margin-left: 10px;
								cursor: pointer;
								background: {
									color: transparent;
									size: auto 34px;
									position: 0px 0px;
									repeat: no-repeat;
								}
							}
							button:hover {
								background-position: -34px 0px;
							}
							button:active {
								background-position: -68px 0px;
							}
							button.select {
								background-image: url("../images/default/btn-item-select.png");
							}
							button.rename {
								background-image: url("../images/default/btn-item-rename.png");
							}
							button.delete {
								background-image: url("../images/default/btn-item-delete.png");
							}
						}
						li.nosel {
							input[type="checkbox"] {
								display: none;
							}
							.fileName {
								margin-left: 25px;
							}
						}
						li:hover {
							span.icon {
								background-position: -34px 0px;
							}
							button.rename, button.delete {
								display: inline-block;
							}
						}
						li:active {
							span.icon {
								background-position: -68px 0px;
							}
						}
						li.folder {
							span.icon {
								background-image: url('../images/default/icon-folder.png');
							}
							&.new {
								input[type="text"] {
									margin-left: 20px;
								}
							}
						}
						li.file {
							span.icon {
								background-image: url('../images/default/icon-file.png');
							}
						}
						li.file.image {
							span.icon {
								background-image: url('../images/default/icon-image.png');
							}
						}
						li.file.sound {
							span.icon {
								background-image: url('../images/default/icon-sound.png');
							}
						}
						li.file.video {
							span.icon {
								background-image: url('../images/default/icon-video.png');
							}
						}
						li.filteredOut {
							/* display: none; */
							color: grey;
							font-style: italic;
							cursor: not-allowed;
							span.fileName {
								cursor: not-allowed;
							}
						}
						li.filteredOut:hover {
							span.icon {
								background-position: 0px 0px;
							}
							button.rename, button.delete {
								display: none;
							}
						}
					}
				}
			}
		}
		&.selectFolders {
			.files {
				.list {
					ul {
						li:hover {
							button.select {
								display: inline-block;
							}
						}
					}
				}
			}
		}
	}

	.dropzone {

		position: relative; height: 92px; z-index: 10; margin-top: -224px;
		border-top: 1px dashed #34B8EB;
		background: url("../images/default/dropzone.png") no-repeat center / auto 50%;
		text-align: center;
		color: #34B7EA;

		h2 {
			margin-top: 4px; margin-bottom: 11px;
			position: relative;
			font: {
				weight: 300;
				size: 14pt;
			}
		}
		div, div button {
			position: absolute; top: 0; left: 0;
			height: 100%; width: 100%; padding: 0; margin: 0; border: 0;
		}
		div button {
			background: transparent;
			color: #34B7EA;
			line-height : 150px;
			font: {
				weight: 300;
				size: 11pt;
			}
			cursor: pointer;
		}
		div button:hover {
			text-decoration: underline;
		}
		div input {
			opacity: 0;
		}
	}

	.footer {

		position: relative; height: 52px;
		margin-top: -52px;
		background: #34B8EB;
		border-top: 1px solid #282828;
		text-align: center;

		button.deleteBtn, div.export .saveBtn, div.export .overwriteBtn {

			background: #fff; height: 40px; padding: 8px;
			border: 0;
			font: {
				weight: 300;
				size: 18px;
			}
			color: #444; text-transform: lowercase;
			cursor: pointer;
		}
		button.deleteBtn, div.export {
			margin-top: 6px;
		}
		button.deleteBtn {

			float: right; margin-right: 10px;
		}
		div.export {

			.saveBtn, .overwriteBtn {
				color: #FFF;
			}
			.overwriteBtn {
				background: orange;
			}
			.saveBtn {
				background: green;
			}
		}
	}


	/*
		STYLING BY STATE
	*/

	&.starting {

		.header .controls {

			width: 52px;
		}
	}

	&.selecting, &.browsing.single-file-exp-mode { /* footer <+ ?> */

		.fileBrowser {

			padding-bottom: 52px; /* for footer */
		}
	}
	&.selecting.browsing.single-file-sel-mode { /* dropzone + footer */

		.fileBrowser {

			.files {

				.list {

					padding-bottom: 276px;  /* for footer + dropzone + titles + header */
				}
			}
			.dropzone {

				margin-top: -276px;
			}
		}
	}
	&.browsing.single-file-exp-mode {	/* footer (no dropzone) */

		.fileBrowser {

			.files {

				.list {
				
					padding-bottom: 184px;
				}
			}
			.dropzone {

				display: none;
			}
		}
	}
	&.items-list {

		.header {

			.listItemsBtn, .listItemsBtn:hover {
				background-position: -156px 0px;
			}
		}
	}
	&.items-icons {

		.header {

			.iconItemsBtn, .iconItemsBtn:hover {
				background-position: -156px 0px;
			}
		}
	}
	&.browsing.making-new-folder {

		.header {

			.newFolderBtn, .newFolderBtn:hover {
				background-position: -156px 0px;
			}
		}
	}
	&.sortedby-name.asc {
		.files {
			.list {
				.titles {
					.fileName {
						span.sortArrow {
							background-position: -18px 0px;
						}
					}
				}
			}
		}
	}
	&.sortedby-name.desc {
		.files {
			.list {
				.titles {
					.fileName {
						span.sortArrow {
							background-position: -18px 0px;
							transform: rotate(0.5turn)
						}
					}
				}
			}
		}
	}
	&.sortedby-type.asc {
		.files {
			.list {
				.titles {
					.fileType {
						span.sortArrow {
							background-position: -18px 0px;
						}
					}
				}
			}
		}
	}
	&.sortedby-type.desc {
		.files {
			.list {
				.titles {
					.fileType {
						span.sortArrow {
							background-position: -18px 0px;
							transform: rotate(0.5turn)
						}
					}
				}
			}
		}
	}
	&.sortedby-lastUpdate.asc {
		.files {
			.list {
				.titles {
					.lastUpdate {
						span.sortArrow {
							background-position: -18px 0px;
						}
					}
				}
			}
		}
	}
	&.sortedby-lastUpdate.desc {
		.files {
			.list {
				.titles {
					.lastUpdate {
						span.sortArrow {
							background-position: -18px 0px;
							transform: rotate(0.5turn)
						}
					}
				}
			}
		}
	}
	&.srv-dropbox {
		.fileBrowser {
			.services {
				li.dropbox {
					background-position: 32px 9px, -156px 0px;
				}
			}
		}
	}
	&.srv-ftp {
		.fileBrowser {
			.services {
				li.ftp {
					background-position: 32px 9px, -156px 0px;
				}
			}
		}
	}
	&.srv-www {
		.fileBrowser {
			.services {
				li.www {
					background-position: 32px 9px, -156px 0px;
				}
			}
		}
	}
}
